// Code generated by etool. DO NOT EDIT.
// versions:
// - etool v0.0.1

package {{ .PackageName }}

import (
	"context"
	"github.com/matrix-go/etool/pkg/mysql/filter"
	{{ if .HasDecimal }}"github.com/shopspring/decimal"{{- end }}
	"time"
)

type {{.TableName}}Dao interface {
	Insert{{.TableName}}(ctx context.Context, {{.InstanceName}} *{{.TableName}}Model) error
	BatchInsert{{.TableName}}s(ctx context.Context, {{.InstanceName}}s []*{{.TableName}}Model, batchSize int) error
	Delete{{.TableName}}ByID(ctx context.Context, id int64) error
	Delete{{.TableName}}s(ctx context.Context, filters []filter.Filter) error
	Update{{.TableName}}ByID(ctx context.Context, id int64, updates map[string]any) error
	Update{{.TableName}}s(ctx context.Context, filters []filter.Filter, updates map[string]any) error
	Get{{.TableName}}ByID(ctx context.Context, id int64) ({{.InstanceName}} *{{.TableName}}Model, err error)
	Get{{.TableName}}s(ctx context.Context, filters []filter.Filter, offset, limit int) ({{.InstanceName}}s []*{{.TableName}}Model, total int64, err error)
}

type {{ .TableName }}Model struct {
{{- range $column := .Columns }}
	{{.Name}} {{.Type}} {{.Tag}}
{{- end }}
}

func (a *{{ .TableName }}Model) TableName() string {
	return "{{.OriginTableName}}"
}